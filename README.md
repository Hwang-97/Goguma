# ê³ êµ¬ë§ˆì¼“

![https://user-images.githubusercontent.com/85034286/152821259-f567690c-ef0c-4a1a-b8ff-4288e81c61bb.png](https://user-images.githubusercontent.com/85034286/152821259-f567690c-ef0c-4a1a-b8ff-4288e81c61bb.png)

### 3-1. ê³ êµ¬ë§ˆì¼“ì˜ ë©”ì¸ í˜ì´ì§€ ì…ë‹ˆë‹¤.

- ìƒí’ˆê²€ìƒ‰ , ì¶”ì²œ , íšŒì›ê°€ì… , ë¡œê·¸ì¸ , íšŒì›ê´€ë¦¬ , ê´€ë¦¬ì í˜ì´ì§€ ë“± ì „ë°˜ì ì¸ ëª¨ë“  ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- ìƒí’ˆ ë“±ë¡ ë° êµ¬ë§¤ì‹œ ê²½ë§¤ ì—¬ë¶€ë¥¼ ì„ íƒí•  ìˆ˜ ìˆê²Œ í•˜ì—¬ ê²½ìŸë ¥ì„ ë†’ì¸ ì‚¬ì´íŠ¸ ì…ë‹ˆë‹¤.

<br />
<br />
<br />

# ğŸ™‹ My Role

### 1. ë‹´ë‹¹ ì—…ë¬´

![https://user-images.githubusercontent.com/85034286/152822585-b4961b35-3f30-434d-bd51-b8737c1729e5.png](https://user-images.githubusercontent.com/85034286/152822585-b4961b35-3f30-434d-bd51-b8737c1729e5.png)

### 1-1. ì£¼ìš” íŠ¹ì§•

- íšŒì› ì •ë³´ì¤‘ í”„ë¡œí•„ ê´€ë ¨ ì •ë³´ë¥¼ ìˆ˜ì • ê°€ëŠ¥í•˜ë„ë¡ UI ì™€ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- ![í”„ë¡œí•„ ìˆ˜ì •](https://user-images.githubusercontent.com/85034286/152829943-d637978c-ce67-4524-8f7f-9102d5516c2c.gif)
- ğŸ‘†í”„ë¡œí•„ì„ ìˆ˜ì • ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

### 1-2. ì£¼ìš” íŠ¹ì§•

- íšŒì› ì •ë³´ì¤‘ íŠ¹ì • ì •ë³´ë¥¼ ì œì™¸í•œ ëª¨ë“  ì •ë³´ë¥¼ ìˆ˜ì • ê°€ëŠ¥í•˜ë„ë¡ UI ì™€ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- ![ê°œì¸ì •ë³´ ìˆ˜ì •](https://user-images.githubusercontent.com/85034286/152832634-778b71fb-0f60-49a2-af3c-3c488195c063.gif)
- ğŸ‘†íšŒì› ì •ë³´ ìˆ˜ì • ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

<br />
<br />

### 2. ë‹´ë‹¹ ì—…ë¬´

![image](https://user-images.githubusercontent.com/85034286/152835322-492babc0-6459-49a9-ba9b-58d0d6c278f4.png)

### 2-1. ì£¼ìš” íŠ¹ì§•

- ë³¸ì¸ì´ ì‘ì„±í•œ ê²Œì‹œê¸€ì´ë‚˜ ë°›ì€ í›„ê¸°ë“±ì„ ëª¨ë‘ í™•ì¸ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- ![ì „ì²´ì ì¸ ê²Œì‹œíŒ ê¸°ëŠ¥](https://user-images.githubusercontent.com/85034286/152835564-914e6962-fcd7-4439-b1e7-fade0da0e201.gif)
- ğŸ‘†ë‹¤ë¥¸ í˜ì´ì§€ ë“¤ì˜ ê±°ì´ ëª¨ë“  ê¸°ëŠ¥ê³¼ ì—°ë™ì‹œì¼°ìŠµë‹ˆë‹¤.

<br />
<br />
<br />

DAOì™€ DTO ê·¸ë¦¬ê³  ì„œë¸”ë¦¿ì„ êµ¬ë³„í•˜ì—¬ ì²´ê³„ì ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
<br />
![image](https://user-images.githubusercontent.com/85034286/152840192-f9cfe225-387f-4de8-8b7b-ac99cc249ddd.png)

<br />
<br />
<br />

# ğŸ” Detail

### 1. ì£¼ìš” ì½”ë“œ

- í”„ë¡œí•„ ë³€ê²½ì‹œ ì¸ë„¤ì¼ì„ ì¶œë ¥í•˜ëŠ” JavaScript ì½”ë“œ ì…ë‹ˆë‹¤.
    
    ```
    <script>
	
	function setThumbnail(event){
		var reader = new FileReader();
		
		reader.onload = function(event){
			$("#profilImg").attr("src", event.target.result);
		};
		reader.readAsDataURL(event.target.files[0]);
	}
	
	</script>
    
    ```
    
- í”„ë¡œí•„ì„ ìˆ˜ì •ì‹œ ë°ì´í„°ë¥¼ ë°›ì•„ DAOì— ë„˜ê²¨ DBê°’ì„ ìˆ˜ì •í•˜ëŠ” ì½”ë“œ ì…ë‹ˆë‹¤.
    
    ```
    MultipartRequest  multi = new MultipartRequest(
	                                 req,
	                                 "C:\\Goguma\\Goguma\\src\\main\\webapp\\files\\profile",
	                                 1024 * 1024 * 100,
	                                 "UTF-8",
	                                 new DefaultFileRenamePolicy()
	                            );
	         String id = (String)req.getSession().getAttribute("id");
	         String nickName = multi.getParameter("nickName");
	         String intro = multi.getParameter("intro");
	         
	         String path = multi.getFilesystemName("pathDir");
	         
	         if(nickName==null) nickName = (String)req.getSession().getAttribute("nickname");
	         if(nickName==null) intro = " ";
	         if(nickName==null) path = "default image.jpg";
	         
	         
	         HashMap<String,String> map = new HashMap<String,String>();
	         
	         map.put("id", id);
	         map.put("intro", intro);
	         map.put("nickName", nickName);
	         map.put("path", path);
	         
	         int check = dao.setProfile(map);
	         
	         System.out.println(check); // ë‚˜ì¤‘ì— ì²˜ë¦¬
	 		 System.out.println(path);
	 		 System.out.println(id);
	 		 
	 		 req.setAttribute("check", check);
	 		 req.setAttribute("nickName", nickName);
	 		 
	 		 req.getSession().setAttribute("nickname", nickName);
    
    ```
    
- jstl ì„ ì‚¬ìš©í•˜ì—¬ íšŒì›ì˜ í”„ë¡œí•„ì— ë§¨íŠ¸ë¥¼ ì§€ì •í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤.
    
    ```
   <div class="salesAvg">
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <!-- jquery ì´íš½í•´ì„œ ìì‹ ìœ„ì¹˜ í™•ì¸í›„  ìƒ‰ì„ ì§€ì •  -->
        <c:if test="${score.salesCnt<=3}">
        <div>ì´ˆë³´ ê³ êµ¬ë§ˆ</div>
        </c:if>
        <c:if test="${score.salesCnt>3}">
        <div>ì¤‘ê¸‰ ê³ êµ¬ë§ˆ</div>
        </c:if>
        <c:if test="${score.salesCnt>5}">
        <div>ê³ ê¸‰ ê³ êµ¬ë§ˆ</div>
        </c:if>
    </div>
    <div class="purchaseAvg">
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <c:if test="${score.purchaseCnt<=3}">
        <div>ì´ˆë³´ ê³ êµ¬ë§ˆ</div>
        </c:if>
        <c:if test="${score.purchaseCnt>3}">
        <div>ì¤‘ê¸‰ ê³ êµ¬ë§ˆ</div>
        </c:if>
        <c:if test="${score.purchaseCnt>5}">
        <div>ê³ ê¸‰ ê³ êµ¬ë§ˆ</div>
        </c:if>
    </div>
    
    ```
    

<br />
<br />

### 2. ì£¼ìš” ì½”ë“œ

- DAOì—ì„œ ì „ë‹¬ë°›ì€ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í˜ì´ì§• ë²„íŠ¼ì„ êµ¬í˜„í•˜ëŠ” ë©”ì†Œë“œ ì…ë‹ˆë‹¤.
    
    ```
    private String getPagebar() {
		int totalCount = 0;
		int totalPage = 0;
		int blockSize = 10;
		int n;
		int loop;
		System.out.println(map.toString());
		totalCount = dao.getMyProductTotalPage(map);
		totalPage = (int)Math.ceil((double)totalCount / pageSize);

		String pagebar = "";
		
		loop = 1; 
		n = ((nowPage - 1) / blockSize) * blockSize + 1; 
		
		pagebar += "<nav><ul class=\"pagination\">";

		if (n == 1) {
			pagebar += String.format("<li class='nothing'><a href='#!' aria-label='Previous'><span class='glyphicon glyphicon-menu-left'></span></a></li>");
		} else {
			pagebar += String.format("<li class='previous'><a href='/goguma/profile/mycommunitylist.do?page=%d' aria-label='Previous'><span class='glyphicon        glyphicon-menu-left'></span></a></li>", n-1);
		}

		while (!(loop > blockSize || n > totalPage)) {
			if (n == nowPage) {
				pagebar += String.format("<li class='active'><a href='#!'>%d</a></li>", n);
			} else {
				pagebar += String.format("<li><a href='/goguma/profile/mycommunitylist.do?page=%d'>%d</a></li>", n, n);
			}			
			loop++;
			n++;
		}

		if (n > totalPage) {
			pagebar += String.format("<li class='nothing'><a href='#!' aria-label='Next'><span class='glyphicon glyphicon-menu-right'></span></a></li>");
		} else {
			pagebar += String.format("<li class='next'><a href='/goguma/profile/mycommunitylist.do?page=%d' aria-label='Next'><span class='glyphicon glyphicon-menu-right'></span></a></li>", n);
		}

		pagebar += "</ul></nav>";
		return pagebar;
	}
    
    ```
    
- íŠ¸ë¦¬ê±°ë¥¼ ë§Œë“¤ì–´ í…Œì´ë¸”ì„ êµ³ì´ ìˆ˜ì •í•˜ì§€ ì•Šê³  ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
    
    ```
    create or replace Trigger Trgreview
    after insert on tbldeal
    for each row
    begin
        insert into tblReview values ('S',:NEW.deal_seq, 10,'null');
        insert into tblReview values ('B',:NEW.deal_seq, 10,'null');
    commit;
    end;
    
    ```
    

<br />
<br />
<br />

# ğŸ’¡ Review

### 1. í›„ê¸°

- ì²« ì›¹ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì›¹ ë””ìì¸ê³¼ ë°±ì—”ë“œ êµ¬í˜„ì— ë”ìš± ìì‹ ê°ì„ ê°–ê²Œ ë˜ì—ˆê³ , í˜„ì¬ ì–´ë–¤ ì‚¬ì´íŠ¸ë“  ì œì‘í•  ìì‹ ì´ ìˆìŠµë‹ˆë‹¤.
- ì €í¬ëŠ” ê¹ƒí—ˆë¸Œë¥¼ ì´ìš©í•´ í˜‘ì—…ì„ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤. í˜‘ì—…ì„ ì§„í–‰í•˜ë©° ê¹ƒ í”Œë¡œìš°ì™€ ì»¤ë°‹ ì‹œê¸° ë“±ì„ í™•ì‹¤í•˜ê²Œ ì •í•˜ë©´ ì¢‹ê² ë‹¤ê³  ìƒê°í•˜ì˜€ê³ , 
  ë‹¤ìŒ í”„ë¡œì íŠ¸ëŠ” í˜‘ì—…íˆ´ì˜ ê¸°ëŠ¥ì„ ìµœëŒ€í•œ ëŒì–´ì˜¬ë¦´ ê²ƒì…ë‹ˆë‹¤.

<br />
<br />
<br />
